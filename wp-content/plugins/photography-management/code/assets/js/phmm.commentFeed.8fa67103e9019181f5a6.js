(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{b8W5:function(e,t,n){"use strict";n.r(t);n("K5YD"),n("PTUT"),n("IT20"),n("Khdg"),n("Ep05"),n("gRbJ"),n("YO0Z"),n("fNeZ"),n("g6ng"),n("DuI8"),n("vr6x"),n("XQfh"),n("069r"),n("1WJm");var r=n("GyhR"),o=n("Ivf5"),i=n("zOOu"),a=n("Ui1t"),c=n.n(a),u=n("neaZ"),l=n.n(u),s=(n("yJ07"),n("KxRc")),f=n.n(s),p=n("sU3x"),m=n.n(p),y=n("RvVb"),b=n.n(y),d=n("t5ph"),h=n.n(d),g=n("20G2"),O=function(e,t){var n=t?e.palette.primary[50]:"#ecf0f1";return{color:e.palette.getContrastText(n),borderRadius:"5px",padding:"0.5em",maxWidth:"600px",fontSize:"0.75em",background:n,textAlign:"justify",margin:"1em",alignSelf:t?"flex-end":"flex-start"}},w=Object(g.withTheme)()(function(e){var t=e.own,n=(e.style,e.theme),o=e.children;return r.createElement(h.a,{elevation:1,style:O(n,t)},o)});function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){P(e,t,n[t])})}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){var t={width:12,height:12};switch(e.status){case"SENT":return r.createElement(m.a,{style:t});case"ERROR":return r.createElement(b.a,{style:D({},t,{color:"#e74c3c"})});case"PENDING":return r.createElement(f.a,{style:t});default:return null}},T=function(e){var t=e.status,n=e.timestamp,o=e.hideStatus;return r.createElement("div",{style:{fontSize:10,display:"flex",marginTop:"0.5em",float:"right"}},r.createElement("span",{style:{marginRight:"1em"}},function(e){var t=new Date(e);return l()(t)?c()(t,"HH:mm"):c()(t,"DD/MM HH:mm")}(n)),!o&&r.createElement(R,{status:t}))},_=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=S(t).apply(this,arguments),e=!r||"object"!==v(r)&&"function"!=typeof r?j(n):r,P(j(e),"updateScroll",function(){e.feed&&(e.feed.scrollTop=e.feed.scrollHeight)}),P(j(e),"componentDidMount",function(){setTimeout(function(){e.updateScroll()},0)}),P(j(e),"componentDidUpdate",function(t){e.props.messages.length!==t.messages.length&&e.updateScroll()}),P(j(e),"parseContent",function(e){return Object(i.convertFromRaw)(e)}),P(j(e),"isOwnerOfMessage",function(t){return t.wp_author_id===e.props.clientID}),e}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=this.props.messages;return r.createElement("div",{ref:function(t){e.feed=t},style:D({},this.props.style,{overflowY:"scroll",display:"flex",flexBasis:"80vh",flexGrow:1,flexDirection:"column",backgroundColor:"#fafafa"})},t.map(function(t){return r.createElement(w,{key:t.ID,own:e.isOwnerOfMessage(t)},r.createElement(i.Editor,{editorState:i.EditorState.createWithContent(e.parseContent(t.content)),readOnly:!0}),r.createElement(T,{timestamp:t.timestamp,hideStatus:!e.isOwnerOfMessage(t),status:t.status}))}))}}])&&E(n.prototype,o),a&&E(n,a),t}();t.default=Object(o.b)(function(e,t){return{clientID:e.clientGlobals.id,messages:e.comments.filter(function(e){return e.imageID===t.imageID})}})(_)}}]);