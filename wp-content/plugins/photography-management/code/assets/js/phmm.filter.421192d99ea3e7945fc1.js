(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"+KZn":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var r=c(n("+vtv")),o=c(n("BVBl")),a=c(n("u13p")),l=c(n("GyhR")),u=(c(n("4uXN")),c(n("PNko"))),i=c(n("4oMJ"));function c(e){return e&&e.__esModule?e:{default:e}}var s=t.styles=function(e){return{root:(0,a.default)({position:"relative",display:"flex",alignItems:"center"},e.mixins.toolbar),gutters:e.mixins.gutters({})}};function f(e){var t=e.children,n=e.classes,i=e.className,c=e.disableGutters,s=(0,o.default)(e,["children","classes","className","disableGutters"]),f=(0,u.default)(n.root,(0,r.default)({},n.gutters,!c),i);return l.default.createElement("div",(0,a.default)({className:f},s),t)}f.propTypes={},f.defaultProps={disableGutters:!1},t.default=(0,i.default)(s,{name:"MuiToolbar"})(f)},"7MAf":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("+KZn");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},E03X:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n("GyhR")),o=l(n("4Rgk")),a=l(n("OcsB"));function l(e){return e&&e.__esModule?e:{default:e}}var u=r.default.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),i=function(e){return r.default.createElement(a.default,e,u)};(i=(0,o.default)(i)).muiName="SvgIcon",t.default=i},GNll:function(e,t,n){"use strict";n.r(t);var r=n("GyhR"),o=n.n(r),a=n("Ivf5"),l=n("20G2"),u=n("t5ph"),i=n.n(u),c=n("USkc"),s=n.n(c),f=n("k29j"),d=n.n(f),m=n("E03X"),p=n.n(m),h=n("lVnJ"),v=n.n(h),b=n("7MAf"),y=n.n(b),E=n("8rLB"),_=(n("K5YD"),n("PTUT"),n("IT20"),n("Khdg"),n("Ep05"),n("gRbJ"),n("fNeZ"),n("g6ng"),n("DuI8"),n("vr6x"),n("phT2"),n("XQfh"),n("069r"),n("1WJm"),n("QZzG"),n("6eJh")),g=n.n(_),w=n("HRmr"),O=n.n(w),I=n("k63q"),C=n("VizA"),j=n.n(C),k=n("vP1C");function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t,n,r,o,a,l){try{var u=e[a](l),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(r,o)}function P(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function l(e){S(a,r,o,l,u,"next",e)}function u(e){S(a,r,o,l,u,"throw",e)}l(void 0)})}}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=x(t).apply(this,arguments),e=!r||"object"!==M(r)&&"function"!=typeof r?T(n):r,H(T(e),"state",{anchorEl:void 0,fetchState:"PRISTINE",open:!1}),H(T(e),"handleClick",function(t){e.setState({open:!0,anchorEl:t.currentTarget})}),H(T(e),"handleRequestClose",function(t){e.setState({open:!1})}),H(T(e),"initiateDownload",function(t){e.handleRequestClose(),e.setState(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){H(e,t,n[t])})}return e}({},e,{fetchState:"FETCHING"})},P(regeneratorRuntime.mark(function n(){var r,o,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(k.a)({ajax_url:e.props.ajax_url,action:"phmm_number_of_zip_parts",payload:{client_id:e.props.client_id,project_id:e.props.project_id,mode:t}});case 3:if(null!=(r=n.sent).body&&!0===r.body.success&&null!=r.body.data&&null!=r.body.data.data){for(o=[],a=0;a<r.body.data.data;a++)o.push(e.props.base_url+"/?codeneric_load_image=1&project_id=".concat(e.props.project_id,"&attach_id=0&part=").concat(a,"&f=zip-").concat(t));j()(o)}n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}},n,null,[[0,7]])})))}),H(T(e),"renderDownloadAll",function(){return e.props.allDownloadable?o.a.createElement(_.MenuItem,{key:"download-menu-all",onClick:function(){e.initiateDownload("all")}},o.a.createElement(I.Trans,{id:"Download all"})):null}),H(T(e),"renderDownloadFavorites",function(){return e.props.favsDownloadable?o.a.createElement(_.MenuItem,{key:"download-menu-favs",onClick:function(){e.initiateDownload("favs")}},o.a.createElement(I.Trans,{id:"Download proofs"})):null}),e}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this;return this.props.allDownloadable||this.props.favsDownloadable?o.a.createElement("div",null,o.a.createElement(I.I18n,null,function(t){var n=t.i18n;return o.a.createElement(d.a,{title:n._({id:"Download Menu"}),"aria-label":n._({id:"Download Menu"}),"aria-owns":e.state.open?"download-menu":null,"aria-haspopup":"true",onClick:e.handleClick},o.a.createElement(O.a,null))}),o.a.createElement(g.a,{id:"download-menu",anchorEl:this.state.anchorEl,open:this.state.open,onClose:this.handleRequestClose,style:{maxHeight:216},MenuListProps:{style:{width:200}}},this.renderDownloadAll(),this.renderDownloadFavorites())):null}}])&&R(n.prototype,a),l&&R(n,l),t}(),L=Object(a.b)(function(e,t){return{allDownloadable:e.configuration.downloadable,favsDownloadable:e.configuration.downloadable_favs,isProofed:e.proofs.current.has(t.imageID),ajax_url:e.globals.ajax_url,base_url:e.globals.base_url,project_id:e.projectGlobals.id,client_id:e.clientGlobals.id,downloadBaseUrl:e.projectGlobals.downloadBaseUrl}},function(e,t){return{}})(D),N=n("8dfp"),G=n("+nfg"),V=n.n(G),B=n("i4IE"),A=n.n(B),q=n("cOxZ"),F=n.n(q);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=Z(t).apply(this,arguments),e=!r||"object"!==J(r)&&"function"!=typeof r?W(n):r,U(W(e),"state",{anchorEl:void 0,open:!1}),U(W(e),"handleClick",function(t){e.setState({open:!0,anchorEl:t.currentTarget})}),U(W(e),"handleRequestClose",function(t){e.setState({open:!1})}),e}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this;return this.props.back_url||this.props.logout_url?o.a.createElement("div",null,o.a.createElement(I.I18n,null,function(t){var n=t.i18n;return o.a.createElement(d.a,{id:"cc_phmm_more_menu_open","aria-label":n._({id:"More menu"}),"aria-owns":e.state.open?"more-menu":null,"aria-haspopup":"true",onClick:e.handleClick},o.a.createElement(V.a,null))}),o.a.createElement(g.a,{id:"more-menu",anchorEl:this.state.anchorEl,open:this.state.open,onClose:this.handleRequestClose,style:{maxHeight:216},MenuListProps:{style:{width:200}}},o.a.createElement(_.MenuList,null,this.props.logout_url&&o.a.createElement(_.MenuItem,{id:"cc_phmm_more_menu_logout",key:"more-menu-logout",onClick:function(){e.props.logout_url&&(location.href=e.props.logout_url),e.handleRequestClose()}},o.a.createElement(N.ListItemIcon,null,o.a.createElement(A.a,null)),o.a.createElement(I.I18n,null,function(e){var t=e.i18n;return o.a.createElement(N.ListItemText,{inset:!0,primary:t._({id:"Logout"})})})),this.props.back_url&&o.a.createElement(_.MenuItem,{id:"cc_phmm_more_menu_back",key:"more-menu-back",onClick:function(){e.props.back_url&&(location.href=e.props.back_url),e.handleRequestClose()}},o.a.createElement(N.ListItemIcon,null,o.a.createElement(F.a,null)),o.a.createElement(I.I18n,null,function(e){var t=e.i18n;return o.a.createElement(N.ListItemText,{inset:!0,primary:t._({id:"Back to overview"})})}))))):null}}])&&X(n.prototype,a),l&&X(n,l),t}(),Y=Object(a.b)(function(e,t){return{configuation:e.configuration,logout_url:e.globals.logout_url,back_url:e.globals.back_url}},function(e,t){return{}})(Q),$=n("grpB"),ee=n.n($),te=n("cpXp"),ne=n.n(te),re=n("IClo"),oe=n.n(re);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=ue(t).apply(this,arguments),e=!r||"object"!==ae(r)&&"function"!=typeof r?ie(n):r,se(ie(e),"state",{anchorEl:void 0,open:!1}),se(ie(e),"handleClick",function(t){e.setState({open:!0,anchorEl:t.currentTarget})}),se(ie(e),"handleRequestClose",function(t){e.setState({open:!1})}),se(ie(e),"renderAllItem",function(){return o.a.createElement(_.MenuItem,{disabled:"ALL"===e.props.selected,key:"filter-menu-all",onClick:function(){e.props.onChange("ALL"),e.handleRequestClose()}},o.a.createElement(N.ListItemIcon,null,o.a.createElement(ne.a,null)),o.a.createElement(I.I18n,null,function(e){var t=e.i18n;return o.a.createElement(N.ListItemText,{inset:!0,primary:t._({id:"Show all"})})}))}),se(ie(e),"renderFavoriteItem",function(){return e.props.configuration.favoritable?o.a.createElement(_.MenuItem,{"data-test":"filter-proofed-btn",disabled:"FAVORITES"===e.props.selected,key:"filter-menu-proof",onClick:function(){e.props.onChange("FAVORITES"),e.handleRequestClose()}},o.a.createElement(N.ListItemIcon,null,o.a.createElement(s.a,null)),o.a.createElement(I.I18n,null,function(e){var t=e.i18n;return o.a.createElement(N.ListItemText,{inset:!0,primary:t._({id:"Proofs"})})})):null}),se(ie(e),"renderCommentItem",function(){return e.props.configuration.commentable?o.a.createElement(_.MenuItem,{"data-test":"filter-commented-btn",disabled:"COMMENTED"===e.props.selected,key:"filter-menu.comment",onClick:function(){e.props.onChange("COMMENTED"),e.handleRequestClose()}},o.a.createElement(N.ListItemIcon,null,o.a.createElement(oe.a,null)),o.a.createElement(I.I18n,null,function(e){var t=e.i18n;return o.a.createElement(N.ListItemText,{inset:!0,primary:t._({id:"Commented"})})})):null}),se(ie(e),"shouldRenderAnything",function(){return e.props.configuration.favoritable||!1}),e}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this;return this.shouldRenderAnything()?o.a.createElement("div",null,o.a.createElement(I.I18n,null,function(t){var n=t.i18n;return o.a.createElement(d.a,{"data-test":"filter-menu-btn","aria-label":n._({id:"Show filters"}),"aria-owns":e.state.open?"filter-menu":null,"aria-haspopup":"true",onClick:e.handleClick},o.a.createElement(ee.a,null))}),o.a.createElement(g.a,{id:"filter-menu",anchorEl:this.state.anchorEl,open:this.state.open,onClose:this.handleRequestClose,style:{maxHeight:216},MenuListProps:{style:{width:200}}},o.a.createElement(_.MenuList,null,this.renderAllItem(),this.renderFavoriteItem(),this.renderCommentItem()))):null}}])&&le(n.prototype,a),l&&le(n,l),t}(),de=Object(a.b)(function(e,t){return{configuration:e.configuration}},function(e,t){return{}})(fe);t.default=Object(a.b)(function(e){return{proofs:e.proofs.current,haveProofsChanged:e.proofs.current!==e.proofs.initial,selected:e.appliedFilter,configuration:e.configuration}},function(e){return{onChange:function(t){e(Object(E.a)(t))}}})(Object(l.withStyles)(function(e){return{root:{marginBottom:16},flex:{flex:1},limitWrap:{display:"flex",alignItems:"center"}}})(function(e){var t,n,o,a=e.classes,l=e.configuration,u=e.selected,c=e.onChange,f=e.onChangeColumnCount,m=e.columnCount,h=e.proofs;e.onToggleHideIcons,e.hideIcons,e.haveProofsChanged;return r.createElement(i.a,{className:a.root,elevation:1},r.createElement(y.a,null,r.createElement("div",null,r.createElement("div",null,r.createElement(de,{selected:u,onChange:c}))),r.createElement("div",{className:a.flex},r.createElement(d.a,{"data-test":"column-dec",onClick:function(){f(-1)},disabled:m<=1},r.createElement(v.a,null)),r.createElement(d.a,{"data-test":"column-inc",onClick:function(){f(1)},disabled:m>=10},r.createElement(p.a,null))),r.createElement("div",null,(t=h.size,n=l,o=a.limitWrap,null==n.favoritable_limit?null:r.createElement("div",{className:o},r.createElement(s.a,{color:"disabled"}),r.createElement("small",null,t,"/",n.favoritable_limit)))),r.createElement("div",null,r.createElement(L,null)),r.createElement("div",null,r.createElement(Y,null))))}))},HRmr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n("GyhR")),o=l(n("4Rgk")),a=l(n("OcsB"));function l(e){return e&&e.__esModule?e:{default:e}}var u=r.default.createElement("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),i=function(e){return r.default.createElement(a.default,e,u)};(i=(0,o.default)(i)).muiName="SvgIcon",t.default=i},IClo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n("GyhR")),o=l(n("4Rgk")),a=l(n("OcsB"));function l(e){return e&&e.__esModule?e:{default:e}}var u=r.default.createElement("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),i=function(e){return r.default.createElement(a.default,e,u)};(i=(0,o.default)(i)).muiName="SvgIcon",t.default=i},VizA:function(e,t,n){"use strict";function r(e){var t=document.createElement("a");t.download="",t.href=e,t.dispatchEvent(new MouseEvent("click"))}e.exports=function(e){if(!e)throw new Error("`urls` required");if(void 0===document.createElement("a").download)return function(e){var t=0;!function n(){var r=document.createElement("iframe");r.style.display="none",r.src=e[t++],document.documentElement.appendChild(r);var o=setInterval(function(){"complete"!==r.contentWindow.document.readyState&&"interactive"!==r.contentWindow.document.readyState||(clearInterval(o),setTimeout(function(){r.parentNode.removeChild(r)},1e3),t<e.length&&n())},100)}()}(e);var t=0;e.forEach(function(e){if(/Firefox\//i.test(navigator.userAgent)&&!function(e){var t=document.createElement("a");return t.href=e,location.hostname===t.hostname&&location.protocol===t.protocol}(e))return setTimeout(r.bind(null,e),100*++t);r(e)})}},cOxZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n("GyhR")),o=l(n("4Rgk")),a=l(n("OcsB"));function l(e){return e&&e.__esModule?e:{default:e}}var u=r.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),i=function(e){return r.default.createElement(a.default,e,u)};(i=(0,o.default)(i)).muiName="SvgIcon",t.default=i},cpXp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n("GyhR")),o=l(n("4Rgk")),a=l(n("OcsB"));function l(e){return e&&e.__esModule?e:{default:e}}var u=r.default.createElement("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"}),i=function(e){return r.default.createElement(a.default,e,u)};(i=(0,o.default)(i)).muiName="SvgIcon",t.default=i},grpB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n("GyhR")),o=l(n("4Rgk")),a=l(n("OcsB"));function l(e){return e&&e.__esModule?e:{default:e}}var u=r.default.createElement("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),i=function(e){return r.default.createElement(a.default,e,u)};(i=(0,o.default)(i)).muiName="SvgIcon",t.default=i},i4IE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n("GyhR")),o=l(n("4Rgk")),a=l(n("OcsB"));function l(e){return e&&e.__esModule?e:{default:e}}var u=r.default.createElement("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),i=function(e){return r.default.createElement(a.default,e,u)};(i=(0,o.default)(i)).muiName="SvgIcon",t.default=i},lVnJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n("GyhR")),o=l(n("4Rgk")),a=l(n("OcsB"));function l(e){return e&&e.__esModule?e:{default:e}}var u=r.default.createElement("path",{d:"M19 13H5v-2h14v2z"}),i=function(e){return r.default.createElement(a.default,e,u)};(i=(0,o.default)(i)).muiName="SvgIcon",t.default=i}}]);