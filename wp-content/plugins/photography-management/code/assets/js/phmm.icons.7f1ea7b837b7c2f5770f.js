(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"04be":function(e,t,n){"use strict";n.r(t);n("vr6x"),n("phT2");var r=n("GyhR"),a=n("btaS"),i=n.n(a),o=(n("K5YD"),n("Khdg"),n("Ep05"),n("YO0Z"),n("fNeZ"),n("DuI8"),n("v+m1"),n("069r"),n("Ivf5")),c=n("k29j"),l=n.n(c),u=(n("IClo"),n("20G2")),m=n("xnSj");n("3iKs");var f=Object(o.b)(function(e,t){var n=e.comments.filter(function(e){return e.imageID===t.imageID&&"SENT"===e.status}).length;return 0===n&&(n=e.projectGlobals.initialCommentCount.filter(function(e){return e.image_id==t.imageID}).map(function(e){return e.count}).toString()||0),{display:e.configuration.commentable,commentCount:n}},function(e,t){return{onClick:function(){e(Object(m.b)(t.imageID))}}})(Object(u.withTheme)()(function(e){e.display,e.theme,e.onClick,e.commentCount,e.style;return null})),d=n("NTmx"),s=(n("QZzG"),n("HRmr")),p=n.n(s),g=n("VizA"),b=n.n(g),h=(n("q42W"),n("PDys"),n("vP1C"));function y(e,t,n,r,a,i,o){try{var c=e[i](o),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,a)}var v=Object(o.b)(function(e,t){return{display:e.configuration.downloadable_single,image:e.gallery.loaded[t.imageID],ajax_url:e.globals.ajax_url,project_id:e.projectGlobals.id}},function(e,t){return{onClick:(n=regeneratorRuntime.mark(function e(t,n,r){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Single Image Download Failed. Image not defined");case 2:return e.prev=3,e.next=6,Object(h.a)({ajax_url:n,action:"phmm_get_original_image_url",payload:{image_id:t.id,project_id:r}});case 6:if(!((a=e.sent)&&a.body&&a.body.data&&a.body.data.data&&a.body.data.data.url)){e.next=12;break}i=a.body.data.data.url,b()([i]),e.next=13;break;case 12:throw new Error("Single Image Download Failed. Request malformed");case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(3),e.t0;case 18:case"end":return e.stop()}},e,null,[[3,15]])}),r=function(){var e=this,t=arguments;return new Promise(function(r,a){var i=n.apply(e,t);function o(e){y(i,r,a,o,c,"next",e)}function c(e){y(i,r,a,o,c,"throw",e)}o(void 0)})},function(e,t,n){return r.apply(this,arguments)})};var n,r})(Object(u.withTheme)()(function(e){e.transparent;var t=e.theme,n=e.onClick,a=(e.isProofed,e.image),i=e.ajax_url,o=e.project_id;if(!e.display)return null;var c=r.createElement(p.a,null);return r.createElement(l.a,{className:"phmm-single-download-image-btn",onClick:function(){return n(a,i,o)},style:{margin:"10px",background:"dark"!==t.palette.type?"white":"inherit",borderRadius:"50%"}},c)})),k=i()({loader:function(){return Promise.all([n.e(4),n.e(7),n.e(12),n.e(26)]).then(n.bind(null,"vqON"))},loading:function(){return null}}),w=function(e){var t,n=e.className,a=e.containerWidth,i=(e.onButtonClick,e.isProofed,e.theme,e.styles),o=e.imageID;e.hide;return t=a<=300?r.createElement(k,{imageID:o}):[r.createElement(v,{key:"".concat(o,"-singledownload"),imageID:o}),r.createElement(f,{key:"".concat(o,"-commenticon"),imageID:o}),r.createElement(d.a,{key:"".concat(o,"-prooficon"),imageID:o})],r.createElement("div",{className:n,style:i},t)};t.default=function(e){e.imageID;return r.createElement(w,e)}},NTmx:function(e,t,n){"use strict";n("K5YD"),n("Khdg"),n("Ep05"),n("fNeZ"),n("DuI8"),n("069r");var r=n("GyhR"),a=n("Ivf5"),i=n("k29j"),o=n.n(i),c=n("USkc"),l=n.n(c),u=n("86+S"),m=n.n(u),f=n("k63q"),d=n("20G2"),s=n("PNko"),p=n.n(s),g=n("q42W");function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=Object(a.b)(function(e,t){return{proofLimitReached:e.proofs.current.size>=e.configuration.favoritable_limit,hasProofLimit:null!=e.configuration.favoritable_limit,isProofed:e.proofs.current.has(t.imageID),display:e.configuration.favoritable}},function(e,t){return{onClick:function(){e(Object(g.d)(t.imageID))}}})(Object(d.withTheme)()(function(e){e.transparent;var t=e.theme,n=e.proofLimitReached,a=e.hasProofLimit,i=e.onClick,c=e.isProofed,u=e.display,d=e.style,s=r.createElement(l.a,null);if(!u)return null;var g=!a||!n||n&&c,h=r.createElement(o.a,{className:p()("phmm-proof-image-btn",{proofed:c}),color:c?"primary":"default",onClick:function(){if(!g)return null;i()},style:b({},d,{margin:"10px",background:"dark"!==t.palette.type?"white":"inherit",borderRadius:"50%"})},s);return g?h:r.createElement(f.I18n,null,function(e){var t=e.i18n;return r.createElement(m.a,{title:t._({id:"Limit reached"}),placement:"top"},h)})}))}}]);